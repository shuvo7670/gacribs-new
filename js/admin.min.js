function wpestate_set_delete_actions(){jQuery(".attach_delete").unbind("click"),jQuery(".attach_delete").on("click",function(){if(confirm(admin_vars.confirm_text)){var e,t,a=jQuery(this).parent().attr("data-imageid"),i=jQuery("#propertyID").val();jQuery(this).parent().remove(),jQuery("#property_uploaded_thumb_wrapepr .uploaded_thumb").each(function(){t=jQuery(this).attr("data-imageid"),e=e+","+t});var n=jQuery("#wpestate_attach_delete").val();jQuery("#image_to_attach").val(e),jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"wpestate_delete_file",attach_id:a,propertyID:i,security:n,isadmin:1},success:function(e){},error:function(e){}})}})}function wpestate_deregister_theme_code(){jQuery("#wpestate_deregister_ajax_license").on("click",function(){var e=admin_vars.ajaxurl,t=jQuery("#wprentals_activate_license_nonce").val();jQuery("#wpestate_deregister_license_notification").empty().text("processing"),jQuery("#wpestate_deregister_ajax_license").prop("disabled",!0),jQuery.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_revoke_license",security:t},success:function(e){var t="";e.data&&e.data.message&&(t=e.data.message),jQuery("#wpestate_deregister_license_notification").empty().text(t),setTimeout(function(){jQuery("#wpestate_deregister_ajax_license").prop("disabled",!1),location.reload()},3e3)},error:function(e){}})})}function wpestate_checking_theme_code(){jQuery("#wpestate_check_ajax_license").on("click",function(){var e=admin_vars.ajaxurl,t=jQuery("#wpestate_envato_username").val(),a=jQuery("#wpestate_envato_code").val(),i=jQuery("#wprentals_activate_license_nonce").val();if(""!=t&&""!=a){var n=document.getElementById("wpestate_terms");n.checked?(jQuery("#wpestate_check_ajax_license").prop("disabled",!0),jQuery("#wpestate_register_license_notification").empty().text("processing"),jQuery.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_register_license",wpestate_envato_username:t,wpestate_envato_code:a,security:i},success:function(e){var t="";jQuery("#wpestate_envato_username").val(""),jQuery("#wpestate_envato_code").val(""),jQuery("#wpestate_check_ajax_license").prop("disabled",!1),e.data&&e.data.message&&(t=e.data.message),jQuery("#wpestate_register_license_notification").empty().text(t)},error:function(e){}})):jQuery("#wpestate_register_license_notification").empty().text("You need to agree with terms and conditions")}else jQuery("#wpestate_register_license_notification").empty().text("Please fill all the forms")})}function wpestate_set_theme_tab_visible2(){window.location.href;var e=findGetParameter("subpage");"logos_favicon_tab"===e&&(localStorage.setItem("hidden_tab","general_settings_sidebar"),localStorage.setItem("hidden_sidebar","logos_favicon_tab")),"custom_colors_tab"===e&&(localStorage.setItem("hidden_tab","design_settings_sidebar"),localStorage.setItem("hidden_sidebar","custom_colors_tab")),"pay_settings"===e&&(localStorage.setItem("hidden_tab","membership_settings_sidebar"),localStorage.setItem("hidden_sidebar","membership_settings_tab"))}function findGetParameter(e){var t=null,a=[];return location.search.substr(1).split("&").forEach(function(i){a=i.split("="),a[0]===e&&(t=decodeURIComponent(a[1]))}),t}function wpestate_set_theme_tab_visible(){var e=localStorage.getItem("hidden_tab"),t=localStorage.getItem("hidden_sidebar");null!==e&&""!==e||(e="general_settings_sidebar"),null!==t&&""!=t||(t="global_settings_tab"),"none"!==e&&(jQuery(".theme_options_sidebar, .theme_options_wrapper_tab").hide(),jQuery("#"+e).show(),jQuery("#"+e+"_tab").show(),jQuery(".wrap-topbar div").removeClass("tobpbar_selected_option"),jQuery('.wrap-topbar div[data-menu="'+e+'"]').addClass("tobpbar_selected_option")),"none"!==t&&(jQuery(".theme_options_tab").hide(),jQuery("#"+t).show(),jQuery("#wpestate_sidebar_menu li").removeClass("selected_option"),jQuery('#wpestate_sidebar_menu li[data-optiontab="'+t+'"]').addClass("selected_option"))}function wpestate_theme_options_sidebar(){var e;e=jQuery("#wpestate_wrapper_admin_menu").height(),jQuery("#wpestate_sidebar_menu").height(e)}wpestate_set_theme_tab_visible2(),wpestate_set_theme_tab_visible(),jQuery(document).ready(function(e){"use strict";function t(){var t=e(".menu-item");t.each(function(a){var i=e(".edit-menu-item-wpestate-megamenu-check",this);if(e(this).is(".menu-item-depth-0"))i.attr("checked")&&e(this).addClass("wpestate-megamenu");else{var n=t.filter(":eq("+(a-1)+")");n.is(".wpestate-megamenu")?(i.attr("checked","checked"),e(this).addClass("wpestate-megamenu")):(i.attr("checked",""),e(this).removeClass("wpestate-megamenu"))}})}function a(){var e,t,a,i=[];for(t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<t.length;a++)e=t[a].split("="),i.push(e[0]),i[e[0]]=e[1];return i}function i(t){e(".header_admin_options").hide(),"2"==t?e(".header_admin_options.image_header").show():"3"==t?e(".header_admin_options.theme_slider").show():"4"==t?e(".header_admin_options.revolution_slider").show():"5"==t?e(".header_admin_options.google_map").show():"6"==t&&e(".header_admin_options.video_header").show()}var n,o,r,s;(wpestate_theme_options_sidebar(),wpestate_checking_theme_code(),wpestate_deregister_theme_code(),wpestate_set_delete_actions(),e("#property_uploaded_thumb_wrapepr").sortable({revert:!0,update:function(t,a){var i,n;i="",e("#property_uploaded_thumb_wrapepr .uploaded_thumb").each(function(){n=e(this).attr("data-imageid"),void 0!==n&&(i=i+","+n)}),e("#image_to_attach").val(i)}}),e(".property_tab_item").on("click",function(){var t=e(this).attr("data-content");e(".property_tab_item").removeClass("active_tab"),e(".property_tab_item_content ").removeClass("active_tab"),e(this).addClass("active_tab"),e("#"+t).addClass("active_tab")}),e("#button_new_image").on("click",function(t){t.stopPropagation(),t.preventDefault();var a=e("#new_tabbed_interface"),i=a.find(".property_uploaded_thumb_wrapepr"),n=a.find("#image_to_attach").val(),o=(e(this).attr("data-postid"),new wp.media.view.MediaFrame.Select({title:"Select Images",multiple:!0,library:{order:"DESC",orderby:"id",type:"image"},button:{text:"Set Image"}}));o.on("ready",function(){}),o.on("attach",function(){}),o.on("open",function(){}),o.on("escape",function(){}),o.on("close",function(){}),o.on("select",function(){for(var t=o.state().get("selection").toJSON(),r=t.length,s=0;s<r;s++)n=a.find("#image_to_attach").val(),e("#image_to_attach").val(n+","+t[s].id),i.append('<div class="uploaded_thumb" data-imageid="'+t[s].id+'">\n                            <img src="'+t[s].sizes.thumbnail.url+'"  style="max-width:100%;"/>\n                            <a target="_blank" href="'+admin_vars.admin_url+"post.php?post="+t[s].id+'&action=edit" class="attach_edit"><i class="fas fa-pencil-alt" aria-hidden="true"></i></a><a class="attach_delete"><i class="fas fa-trash" aria-hidden="true"></i></span></div>');wpestate_set_delete_actions()}),o.on("activate",function(){}),o.on("{region}:deactivate",function(){}),o.on("{region}:deactivate:{mode}",function(){}),o.on("{region}:create",function(){}),o.on("{region}:create:{mode}",function(){}),o.on("{region}:render",function(){}),o.on("{region}:render:{mode}",function(){}),o.on("{region}:activate",function(){}),o.on("{region}:activate:{mode}",function(){}),o.state(),o.lastState(),o.open()}),jQuery(".wpestate_notices .notice-dismiss").on("click",function(){var t=admin_vars.ajaxurl,a=e(this).parent().attr("data-notice-type"),i=e("#wpestate_notice_nonce").val();jQuery.ajax({type:"POST",url:t,data:{action:"wpestate_update_cache_notice",notice_type:a,security:i},success:function(e){},error:function(e){}})}),jQuery("#add_feature2").on("click",function(e){e.preventDefault();var t=jQuery("#new_feature").val();if(""!==t){var a=jQuery("#new_feature_all").val();a=""===a?t:a+",\n"+t,jQuery("#new_feature_all").val(a),jQuery("#new_feature").val("")}}),jQuery("#add_status").on("click",function(e){e.preventDefault();var t=jQuery("#new_status").val();if(""!==t){var a=jQuery("#status_list").val();a=""===a?t:a+",\n"+t,jQuery("#status_list").val(a),jQuery("#new_status").val("")}}),jQuery("#add_field2").on("click",function(e){var t,a,i,n,o,r;e.preventDefault(),t="",a=jQuery("#field_name").val(),i=jQuery("#field_label").val(),r=jQuery("#field_type").val(),n=parseInt(jQuery("#field_order").val(),10),o=jQuery("#drodown_values").val(),t="<div    class=field_row>",t+='<div    class=field_item><strong>Field Name</strong></br><input  type="text"   name="wprentals_admin[wpestate_custom_fields_list][add_field_name][]"   value="'+a+'"  ></div>',t+='<div    class=field_item><strong>Field Label</strong></br><input  type="text"  name="wprentals_admin[wpestate_custom_fields_list][add_field_label][]"  value="'+i+'"  ></div>',t+='<div    class=field_item><strong>Field Type</strong></br><input  type="text"   name="wprentals_admin[wpestate_custom_fields_list][add_field_type][]"   value="'+r+'"   ></div>',t+='<div    class=field_item><strong>Field Order</strong></br><input  type="text"  name="wprentals_admin[wpestate_custom_fields_list][add_field_order][]"  value="'+n+'"></div>',t+='<div    class=field_item><strong>Dropdwn Values</strong></br><textarea         name="wprentals_admin[wpestate_custom_fields_list][add_dropdown_order][]">'+o+"</textarea></div>",t+='<a class="deletefieldlink" href="#">delete</a>',t+="</div>",jQuery("#custom_fields_wrapper").append(t),jQuery("#field_name").val(""),jQuery("#field_label").val(""),jQuery("#field_order").val(""),jQuery("#drodown_values").val("")}),jQuery(".deletefieldlink").on("click",function(e){e.preventDefault();var t=jQuery(this).parent();t.remove()}),e("#start_wprentals_setup").on("click",function(){e("#wpestate_start_wrapper").slideToggle()}),e(".wpestate_start_wrapper_close").on("click",function(){e("#wpestate_start_wrapper").slideUp()}),e(".wpestate-megamenu-background-image").css("display","block"),e(".wpestate-megamenu-background-image[src='']").css("display","none"),e(".edit-menu-item-wpestate-megamenu-check").on("click",function(){var a=e(this).parents(".menu-item:eq( 0 )");e(this).is(":checked")?a.addClass("wpestate-megamenu"):a.removeClass("wpestate-megamenu"),t()}),e(".load_back_menu").on("click",function(t){t.preventDefault();var a=e(this).parent().parent(),i=this.id.replace("wpestate-media-upload-","");return tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(t){var n=e("img",t).attr("src");a.find("#edit-menu-item-megamenu-background-"+i).val(n),a.find("#wpestate-media-img-"+i).attr("src",n).css("display","block");var o=e("img",t).attr("class"),r=o.match(/\d+$/)[0];a.find("#category_attach_id").val(r),tb_remove()},!1}),e(".remove-megamenu-background").on("click",function(t){t.preventDefault();var a=this.id.replace("wpestate-media-remove-","");e("#edit-menu-item-megamenu-background-"+a).val(""),e("#wpestate-media-img-"+a).attr("src","").css("display","none")}),e("#check_ajax_license").on("click",function(){var t=admin_vars.ajaxurl,a=jQuery("#wpestate_license_key").val(),i=jQuery("#license_ajax_nonce").val();jQuery.ajax({type:"POST",url:t,data:{action:"wpestate_check_license_function",wpestate_license_key:a,security:i},success:function(t){"ok"===t?e(".license_check_wrapper").empty().text("Your copy of the theme is activated. Refresh the page to see Theme Options panel."):e(".notice_here").empty().text("The activation code is not correct!")},error:function(e){}})}),e(".admin_top_bar_button").on("click",function(t){t.preventDefault();var a=e(this).attr("data-menu"),i="";e(".admin_top_bar_button").removeClass("tobpbar_selected_option"),e(this).addClass("tobpbar_selected_option"),e(".theme_options_sidebar, .theme_options_wrapper_tab,.theme_options_tab").hide(),e("#"+a).show(),e("#"+a+"_tab").show(),e("#"+a+"_tab .theme_options_tab:eq(0)").show(),localStorage.setItem("hidden_tab",a),e("#"+a+" li:eq(0)").addClass("selected_option"),i=e("#"+a+" li:eq(0)").attr("data-optiontab"),localStorage.setItem("hidden_sidebar",i),wpestate_theme_options_sidebar()}),e("#wpestate_sidebar_menu li").on("click",function(t){t.preventDefault(),e("#wpestate_sidebar_menu li").removeClass("selected_option"),e(this).addClass("selected_option");var a=e(this).attr("data-optiontab");e(".theme_options_tab").hide(),e("#"+a).show(),e("#hidden_sidebar").val(a),localStorage.setItem("hidden_sidebar",a),wpestate_theme_options_sidebar()}),e("#new_membership").on("click",function(){var t;t=e("#sample_member_row").html(),t='<div class="memebership_row">'+t+"</div>",e("#new_membership").before(t)}),e(".remove_pack").on("click",function(){e(this).parent().remove()}),e(".pin-upload").on("click",function(){var t,a;return tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),t=e(this).prev(),window.send_to_editor=function(i){a=e("img",i).attr("src"),t.val(a),tb_remove()},!1}),e("#global_header_button").on("click",function(){var t;return e("#global_header").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#global_header").val(t),tb_remove()},!1}),e("#footer_background_button").on("click",function(){var t;return e("#footer_background").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#footer_background").val(t),tb_remove()},!1}),e("#logo_image_button").on("click",function(){var t;return e("#logo_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#logo_image").val(t),tb_remove()},!1}),e("#transparent_logo_image_button").on("click",function(){var t;return e("#logo_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#transparent_logo_image").val(t),tb_remove()},!1}),e("#mobile_logo_image_button").on("click",function(){var t;return e("#logo_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#mobile_logo_image").val(t),tb_remove()},!1}),e("#footer_logo_image_button").on("click",function(){var t;return e("#footer_logo_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#footer_logo_image").val(t),tb_remove()},!1}),e("#favicon_image_button").on("click",function(){var t;return e("#favicon_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#favicon_image").val(t),tb_remove()},!1}),e("#logo_image_retina_button").on("click",function(){var t;return e("#logo_image_retina").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#logo_image_retina").val(t),tb_remove()},!1}),e("#transparent_logo_image_retina_button").on("click",function(){var t;return e("#transparent_logo_image_retina").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#transparent_logo_image_retina").val(t),tb_remove()},!1}),e("#mobile_logo_image_retina_button").on("click",function(){var t;return e("#mobile_logo_image_retina").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#mobile_logo_image_retina").val(t),tb_remove()},!1}),e("#background_image_button").on("click",function(){var t;return e("#background_image").attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(a){t=e("img",a).attr("src"),e("#background_image").val(t),tb_remove()},!1}),e(".admin_menu_list")[0])&&(o=a().page,r=o.split("#"),s=r[1],void 0===r[1]&&(s="tab1"),e(".tabadmin").each(function(){e(this).attr("data-tab")===s?e(this).addClass("active"):e(this).removeClass("active")}),e(".admin_menu_list li").each(function(){e(this).attr("rel")===s?e(this).addClass("active"):e(this).removeClass("active")}));n=["page_header_overlay_color_video","page_header_overlay_color"];for(let t=0,a=n.length;t<a;t++)jQuery("#"+n[t]).ColorPicker({onChange:function(a,i,o){e("#"+n[t]+" .sqcolor").css("background-color","#"+i),e("[name="+n[t]+"]").val(i)}});e('input[id^="item-custom"]').on("click",function(){var t,a;return t="edit-menu-"+e(this).attr("id"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),window.send_to_editor=function(e){a=jQuery("img",e).attr("src"),jQuery("#"+t).val(a),tb_remove()},!1}),e("#page_header_type").change(function(){var t=e(this).val();i(t)}),e("#page_header_type").trigger("change"),e("#wpestate_close_notice").on("click",function(){var t=admin_vars.ajaxurl,a=jQuery("#wprentals_activate_license_nonce").val();e.ajax({type:"POST",url:t,data:{action:"wpestate_disable_licence_notifications",security:a},success:function(e){jQuery("#license_check_wrapper").hide()},error:function(e){}})}),e("#button_start_notice").on("click",function(){e("#wpestate_start").slideUp(),e("#wpestate_start_map").slideDown()}),e("#button_map_set").on("click",function(){var t,a,i,n,o,r,s,_;a=jQuery("#ssl_map_set").val(),i=jQuery("#api_key").val(),n=jQuery("#map_type_option").val(),o=jQuery("#places_type_option").val(),r=jQuery("#mapbox_api_key").val(),s=jQuery("#algolia_app_id").val(),_=jQuery("#algolia_app_key").val(),t=admin_vars.ajaxurl;var c=jQuery("#wprentals_map_set_nonce").val();e.ajax({type:"POST",url:t,data:{action:"wpestate_ajax_start_map",ssl_map_set:a,api_key:i,map_type_option:n,places_type_option:o,mapbox_api_key:r,algolia_app_id:s,algolia_app_key:_,security:c},success:function(t){e("#wpestate_start_map").hide(),e("#wpestate_general_settings").show()},error:function(e){}})}),e("#button_general_set").on("click",function(){var t,a,i,n,o;a=jQuery("#prices_th_separator_set").val(),i=jQuery("#currency_label_main").val(),n=jQuery("#where_currency_symbol").val(),o=jQuery("#date_lang").val(),t=admin_vars.ajaxurl;var r=jQuery("#wprentals_general_set_nonce").val();e.ajax({type:"POST",url:t,data:{action:"wpestate_ajax_general_set",prices_th_separator_set:a,currency_label_main:i,where_currency_symbol:n,date_lang:o,security:r},success:function(t){e("#wpestate_general_settings").hide(),e("#wpestate_booking_settings").show()},error:function(e){}})}),e("#button_booking_set").on("click",function(){var t,a,i;a=jQuery("#date_format_set").val(),i=jQuery("#setup_weekend").val(),t=admin_vars.ajaxurl;var n=jQuery("#wprentals_date_format_nonce").val();e.ajax({type:"POST",url:t,data:{action:"wpestate_booking_settings",date_format_set:a,setup_weekend:i,security:n},success:function(t){e("#wpestate_booking_settings").hide(),e("#wpestate_booking_payment").show()},error:function(e){}}),e("#button_continue_notice").on("click",function(){e("##wpestate_start_wrapper").slideUp()})}),e("#button_booking_payment").on("click",function(){var t,a,i,n,o,r;a=jQuery("#include_expenses").val(),i=jQuery("#book_down").val(),n=jQuery("#book_down_fixed_fee").val(),o=jQuery("#service_fee").val(),r=jQuery("#service_fee_fixed_fee").val(),t=admin_vars.ajaxurl;var s=jQuery("#wprentals_booking_payment_nonce").val();e.ajax({type:"POST",url:t,data:{action:"wpestate_booking_payment",include_expenses:a,book_down:i,book_down_fixed_fee:n,service_fee:o,service_fee_fixed_fee:r,security:s},success:function(t){e("#wpestate_booking_payment").hide(),e("#wpestate_end").show()},error:function(e){}})}),e("#button_map_prev").on("click",function(){e("#wpestate_start").show(),e("#wpestate_start_map").hide()}),e("#button_general_prev").on("click",function(){e("#wpestate_start_map").show(),e("#wpestate_general_settings").hide()}),e("#button_booking_prev").on("click",function(){e("#wpestate_general_settings").show(),e("#wpestate_booking_settings").hide()}),e("#button_booking_payment_prev").on("click",function(){e("#wpestate_booking_settings").show(),e("#wpestate_booking_payment").hide()})});